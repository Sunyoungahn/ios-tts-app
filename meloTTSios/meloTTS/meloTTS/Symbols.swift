import Foundation

// PyTorch MeloTTS와 정확히 동일한 심볼 매핑 (Android 앱에서 가져옴)
let symbolToIdMapping = [
    "_": 0,
    "\"": 1,
    "(": 2,
    ")": 3,
    "*": 4,
    "/": 5,
    ":": 6,
    "AA": 7,
    "E": 8,
    "EE": 9,
    "En": 10,
    "N": 11,
    "OO": 12,
    "Q": 13,
    "V": 14,
    "[": 15,
    "\\": 16,
    "]": 17,
    "^": 18,
    "a": 19,
    "a:": 20,
    "aa": 21,
    "ae": 22,
    "ah": 23,
    "ai": 24,
    "an": 25,
    "ang": 26,
    "ao": 27,
    "aw": 28,
    "ay": 29,
    "b": 30,
    "by": 31,
    "c": 32,
    "ch": 33,
    "d": 34,
    "dh": 35,
    "dy": 36,
    "e": 37,
    "e:": 38,
    "eh": 39,
    "ei": 40,
    "en": 41,
    "eng": 42,
    "er": 43,
    "ey": 44,
    "f": 45,
    "g": 46,
    "gy": 47,
    "h": 48,
    "hh": 49,
    "hy": 50,
    "i": 51,
    "i0": 52,
    "i:": 53,
    "ia": 54,
    "ian": 55,
    "iang": 56,
    "iao": 57,
    "ie": 58,
    "ih": 59,
    "in": 60,
    "ing": 61,
    "iong": 62,
    "ir": 63,
    "iu": 64,
    "iy": 65,
    "j": 66,
    "jh": 67,
    "k": 68,
    "ky": 69,
    "l": 70,
    "m": 71,
    "my": 72,
    "n": 73,
    "ng": 74,
    "ny": 75,
    "o": 76,
    "o:": 77,
    "ong": 78,
    "ou": 79,
    "ow": 80,
    "oy": 81,
    "p": 82,
    "py": 83,
    "q": 84,
    "r": 85,
    "ry": 86,
    "s": 87,
    "sh": 88,
    "t": 89,
    "th": 90,
    "ts": 91,
    "ty": 92,
    "u": 93,
    "u:": 94,
    "ua": 95,
    "uai": 96,
    "uan": 97,
    "uang": 98,
    "uh": 99,
    "ui": 100,
    "un": 101,
    "uo": 102,
    "uw": 103,
    "v": 104,
    "van": 105,
    "ve": 106,
    "vn": 107,
    "w": 108,
    "x": 109,
    "y": 110,
    "z": 111,
    "zh": 112,
    "zy": 113,
    "~": 114,
    "¡": 115,
    "¿": 116,
    "æ": 117,
    "ç": 118,
    "ð": 119,
    "ø": 120,
    "ŋ": 121,
    "œ": 122,
    "ɐ": 123,
    "ɑ": 124,
    "ɒ": 125,
    "ɔ": 126,
    "ɕ": 127,
    "ə": 128,
    "ɛ": 129,
    "ɜ": 130,
    "ɡ": 131,
    "ɣ": 132,
    "ɥ": 133,
    "ɦ": 134,
    "ɪ": 135,
    "ɫ": 136,
    "ɬ": 137,
    "ɭ": 138,
    "ɯ": 139,
    "ɲ": 140,
    "ɵ": 141,
    "ɸ": 142,
    "ɹ": 143,
    "ɾ": 144,
    "ʁ": 145,
    "ʃ": 146,
    "ʊ": 147,
    "ʌ": 148,
    "ʎ": 149,
    "ʏ": 150,
    "ʑ": 151,
    "ʒ": 152,
    "ʝ": 153,
    "ʲ": 154,
    "ˈ": 155,
    "ˌ": 156,
    "ː": 157,
    "̃": 158,
    "̩": 159,
    "β": 160,
    "θ": 161,
    "ᄀ": 162,
    "ᄁ": 163,
    "ᄂ": 164,
    "ᄃ": 165,
    "ᄄ": 166,
    "ᄅ": 167,
    "ᄆ": 168,
    "ᄇ": 169,
    "ᄈ": 170,
    "ᄉ": 171,
    "ᄊ": 172,
    "ᄋ": 173,
    "ᄌ": 174,
    "ᄍ": 175,
    "ᄎ": 176,
    "ᄏ": 177,
    "ᄐ": 178,
    "ᄑ": 179,
    "ᄒ": 180,
    "ᅡ": 181,
    "ᅢ": 182,
    "ᅣ": 183,
    "ᅤ": 184,
    "ᅥ": 185,
    "ᅦ": 186,
    "ᅧ": 187,
    "ᅨ": 188,
    "ᅩ": 189,
    "ᅪ": 190,
    "ᅫ": 191,
    "ᅬ": 192,
    "ᅭ": 193,
    "ᅮ": 194,
    "ᅯ": 195,
    "ᅰ": 196,
    "ᅱ": 197,
    "ᅲ": 198,
    "ᅳ": 199,
    "ᅴ": 200,
    "ᅵ": 201,
    "ᆨ": 202,
    "ᆫ": 203,
    "ᆮ": 204,
    "ᆯ": 205,
    "ᆷ": 206,
    "ᆸ": 207,
    "ᆼ": 208,
    "ㄸ": 209,
    "!": 210,
    "?": 211,
    "…": 212,
    ",": 213,
    ".": 214,
    "'": 215,
    "-": 216,
    "SP": 217,
    "UNK": 218
]

// Reverse mapping for debugging
let idToSymbolMapping = Dictionary(uniqueKeysWithValues: symbolToIdMapping.map { ($1, $0) })

// Helper function to get symbol ID with fallback
func getSymbolId(_ symbol: String) -> Int {
    return symbolToIdMapping[symbol] ?? 0  // Return PAD (0) for unknown symbols
}

let sampleRate = 22050  // Android 앱에서 사용하는 샘플 레이트

// MARK: - Language mappings (from Android app)
let languageIdMap: [String: Int] = [
    "ZH": 0,
    "JP": 1,
    "EN": 2,
    "ZH_MIX_EN": 3,
    "KR": 4,
    "ES": 5,
    "SP": 5,
    "FR": 6
]

// Tone mapping based on Android app's language tone start values
let languageToneStartMap: [String: Int] = [
    "ZH": 0,
    "ZH_MIX_EN": 0,
    "JP": 6,           // numZhTones = 6
    "EN": 7,           // numZhTones + numJaTones = 6 + 1 = 7
    "KR": 11,          // numZhTones + numJaTones + numEnTones = 6 + 1 + 4 = 11
    "ES": 12,          // numZhTones + numJaTones + numEnTones + numKrTones = 6 + 1 + 4 + 1 = 12
    "SP": 12,          // Same as ES
    "FR": 13           // numZhTones + numJaTones + numEnTones + numKrTones + numEsTones = 6 + 1 + 4 + 1 + 1 = 13
]

// MARK: - Legacy compatibility (keep existing computed properties)
var symbolToId: [String: Int] { symbolToIdMapping }
var idToSymbol: [Int: String] { idToSymbolMapping }
